<!DOCTYPE html>
<html class="h-100" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{fragments/head :: header}" />
    <meta charset="UTF-8">
    <title>Panel AdministraciÃ³n</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="d-flex flex-column h-100">

<header th:replace="~{fragments/nav.html :: nav}"></header>

<!-- ADMIN VIEW -->
<div th:if="${u != null and u.hasRole('ADMIN')}"
     class="container text-center d-flex flex-column justify-content-center align-items-center"
     style="min-height: 70vh;">

    <h1 class="mb-5">Panel de AdministraciÃ³n</h1>

    <div class="d-grid gap-4 col-6 mx-auto">

        <!-- BOTÃ“N MANEJAR LISTAS -->
        <a href="#"
           class="btn btn-primary btn-lg py-4 fs-3"
           data-bs-toggle="modal"
           data-bs-target="#listasModal">
            ğŸ—‚ï¸ Manejar Listas
        </a>

        <!-- BOTÃ“N MANEJAR PERSONAL -->
        <a href="#"
           class="btn btn-secondary btn-lg py-4 fs-3"
           data-bs-toggle="modal"
           data-bs-target="#personalModal">
            ğŸ‘¥ Manejar Personal
        </a>

    </div>
</div>

<!-- NO ADMIN -->
<div th:unless="${u != null and u.hasRole('ADMIN')}" class="container text-center mt-5">
    <div class="alert alert-danger">
        <h2>Solo administradores</h2>
    </div>
</div>

<!-- LISTAS-->

<div class="modal fade" id="listasModal" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title">GestiÃ³n de Listas</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">

                <div class="mb-3 text-end">
                    <button class="btn btn-success">
                        â• Crear Lista
                    </button>
                </div>

                <div class="table-responsive">
                    <table class="table table-striped table-hover align-middle">
                        <thead class="table-dark">
                        <tr>
                            <th>Nombre</th>
                            <th>Personal</th>
                            <th>NÂº Esperando</th>
                            <th>Tiempo</th>
                            <th>Aforo</th>
                            <th>Ãrea / Sala</th>
                            <th class="text-center">Acciones</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Lista General</td>
                            <td>4</td>
                            <td><span class="badge bg-danger">15</span></td>
                            <td>25 min</td>
                            <td>40</td>
                            <td>Sala 3 - PediatrÃ­a</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-warning">âœï¸ Editar</button>
                                <button class="btn btn-sm btn-danger">ğŸ—‘ï¸ Eliminar</button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- PERSONAL -->

<div class="modal fade" id="personalModal" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title">GestiÃ³n de Personal</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">

                <!-- BOTÃ“N CREAR PERSONAL -->
                <div class="mb-3 text-end">
                    <button class="btn btn-success">
                        â• AÃ±adir Personal
                    </button>
                </div>

                <!-- TABLA PERSONAL -->
                <div class="table-responsive">
                    <table class="table table-striped table-hover align-middle">
                        <thead class="table-dark">
                        <tr>
                            <th>Nombre</th>
                            <th>Rol</th>
                            <th>Turno</th>
                            <th>Salas Asignadas</th>
                            <th class="text-center">Acciones</th>
                        </tr>
                        </thead>
                        <tbody>

                        <!-- EJ 1 -->
                        <tr>
                            <td>Dr. MartÃ­nez</td>
                            <td>Pediatra</td>
                            <td>MaÃ±ana</td>
                            <td>
                                <span class="badge bg-primary">Sala 3</span>
                                <span class="badge bg-info text-dark">Urgencias</span>
                            </td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-warning">âœï¸ Editar</button>
                                <button class="btn btn-sm btn-danger">ğŸ—‘ï¸ Eliminar</button>
                            </td>
                        </tr>

                        <!-- EJ 2 -->
                        <tr>
                            <td>Enfermera LÃ³pez</td>
                            <td>EnfermerÃ­a</td>
                            <td>Tarde</td>
                            <td>
                                <span class="badge bg-success">Consulta 5</span>
                            </td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-warning">âœï¸ Editar</button>
                                <button class="btn btn-sm btn-danger">ğŸ—‘ï¸ Eliminar</button>
                            </td>
                        </tr>

                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>